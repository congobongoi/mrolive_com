<!DOCTYPE html>
{% load static %}
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MRO Live Dock Receiving - Where Productivity Takes Flight</title>
	<link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'dist/assets/css/app.css' %}">
    <link href="{% static 'dist/assets/fontawesome/css/all.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.common-material.min.css" />
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.material.min.css" />
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.material.mobile.min.css" />
    <script src="https://kendo.cdn.telerik.com/2020.1.114/js/jszip.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.4.0/jszip.js"></script>
    <script src="https://kendo.cdn.telerik.com/2017.2.621/js/jquery.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2017.2.621/js/kendo.all.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>	
	<script type="text/javascript" src="{% static 'jquery-1.12.4.js' %}"></script>
	<script src="{% static 'jquery.bootstrap.modal.forms.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'jquery_tab_submit.js' %}"></script>	
	<style>
	    .subhead {
			color:white;
			text-decoration:bold;
			font-size: large;
            margin-left: 65px;
		}
	    .read_field {
            text-align:left;
			border:none;
			outline:none;
			background-color:#FFFFFF;
			color:black;
			text-decoration:bold;
		}
        .k-pager-wrap .k-dropdown {
            width: 100px;	    
        }
		.k-grid-toolbar { 
			background-color:#284a8a !important;
            max-height: 37px;			
		}
		.k-button { 
			background-color:#284a8a !important; 
		}
		.centered {
		  /*top: 50%;*/
		  left: 50%;
		  height: 100%;
		  /* bring your own prefixes */
		  transform: translateX(-50%);
		}
		.total_rows {
		 padding-left:5px;
		 display:inline;
		 text-align:left;
		 border:none;
		 outline:none;
		 background-color:#284a8a!important;
		 color:white;
		 text-decoration:bold;
		 height:25px;
		 width: 45px;
		}
		.sel_rows {
        display:inline;
		text-align:right;
		border:none;
		outline:none;
		background-color:#284a8a!important;
		color:white;
		text-decoration:bold;
		height:25px;
		width: 55px;
		}
		.counter_wrap {
		width:auto;
		float:right;
		margin-top:-45px;
		margin-bottom: 5px;
		z-index:1000!important;
		color: white;
		}
		.save_buttons {
		margin-top: -45px;
	    padding-right: 5px;
		float:right;
		z-index:1000!important;
		}
        .loader,
        .loader:after {
            border-radius: 50%;
            width: 10em;
            height: 10em;
        }
        .loader {            
            margin: 60px auto;
            font-size: 10px;
            position: relative;
            text-indent: -9999em;
            border-top: 1.1em solid rgba(255, 255, 255, 0.2);
            border-right: 1.1em solid rgba(255, 255, 255, 0.2);
            border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);
            border-left: 1.1em solid #ffffff;
            -webkit-transform: translateZ(0);
            -ms-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-animation: load8 1.1s infinite linear;
            animation: load8 1.1s infinite linear;
        }
        @-webkit-keyframes load8 {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        @keyframes load8 {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        #loadingDiv {
            position:absolute;;
            top:0;
            left:0;
            width:100%;
            height:100%;
            background-color:#000;
        }
    </style>
  </head>
  <body>
    <audio src="{% static 'error-trombone.mp3' %}" id="sad_trombone"></audio>
    <script type="text/javascript">
		function removeLoader(){
			$( "#loadingDiv" ).fadeOut(500, function() {
			  $( "#loadingDiv" ).remove(); //makes page more lightweight 
		  });  
		}
			$(document).ready(
				function () {
                //$("#get_due_date").kendoDatePicker();
				//$("#due_date").kendoDatePicker();
			    error = $("#error").val();
				//console.log(error);
				if (error) {
                   $("#sad_trombone").get(0).play();
				}
									$('body').append('<div style="" id="loadingDiv"><div class="loader">Loading...</div></div>');
					$(window).on('load', function(){
						setTimeout(removeLoader, 0); //wait for page load PLUS two seconds.
					});
					
            var dockForm = $("#tools_form")
			$("input").click(function(e){
			
			    var $form = $(this);
				var id_clicked = e.target.id;
				
				
				var charCode = e.keyCode || e.which;
				
				if (id_clicked=='search_orders' || id_clicked=='print_label' || id_clicked=='loc_submit') {

						$('body').append('<div style="" id="loadingDiv"><div class="loader">Loading...</div></div>');
							$(window).on('load', function(){
								setTimeout(removeLoader, 0); //wait for page load PLUS two seconds.
							});	
						e.preventDefault;								
						dockForm.submit(); 
					
					if ($form.data('submitted') === true) {
						alert("Click or hit enter only once to submit.");
						// Previously submitted - don't submit again
						e.preventDefault ? e.preventDefault() : (e.returnValue = false);
						} 
   
					else {
					  // Mark it so that the next submit can be ignored
					  $form.data('submitted', true);
					}	
				   
				}
                
			});					
		})
    </script>
<div class="mro-header-wrapper">
	<section id="mrotop"></section>
	<div class="grid-container mro-header">
		<div class="grid-x medium-margin-collapse align-middle hide-for-medium" style="float:left;">
			<div class="cell large-1 medium-2 small-12 mro-menu-button">
				<a data-toggle="offCanvas"><i class="fas fa-bars"></i></a>
			</div>
			<div class="cell large-11 medium-10 small-12 show-for-medium"><hr/></div>
		</div>
		<div class="grid-x grid-padding-x align-middle">
			<div class="cell medium-7 small-12 mro-headerlogo">
				<a href="" alt="MRO Live - Homepage">
					<img style="max-width:361px;max-height:150px;" src="{% static 'dist/assets/img/mro-live_header.png' %}" alt="MROLive - Where Productivity Takes Flight">
				</a>
			</div>
			<!--div class="cell medium-5 small-12 mro-clientlogo show-for-medium">
				<a href="#" alt="MRO Live - Client Logo">
				  <img style="max-width:150px;" src="../../..{{ logo_url }}" alt="{{ user_name }}">
				</a>			
			</div-->
		</div>
		<div class="grid-x medium-margin-collapse align-middle show-for-medium">
			<div class="cell large-1 medium-2 small-12 mro-menu-button">
				<a data-toggle="offCanvas">Menu <i class="fas fa-bars"></i></a>
			</div>
			<div class="cell large-11 medium-10 small-12 show-for-medium"><hr/></div>
		</div>
		<!--div class="cell medium-7 small-12 mro-clientlogo hide-for-medium mro-mobileclient">
			  <a href="#" alt="MRO Live - Client Logo">
				<img style="max-width:150px;" src="../../..{{ logo_url }}" alt="{{ user_name }}">
			  </a>      
		</div-->
	</div>
</div>

<!-- Off-canvas Menu -->

<div class="off-canvas position-left" id="offCanvas" data-off-canvas>

<!-- Close button -->
<button class="close-button" aria-label="Close menu" type="button" data-close>
  <span aria-hidden="true">&times;</span>
</button>

<!-- Menu -->
<ul class="vertical mro-menu menu">
	<li class="mro-menu-logo">
		<a href="http://mrolive.com/" target="_blank">
			<img src="{% static 'dist/assets/img/MROlive-logo.png' %}" alt="Where Productivity Takes Flight" alt="MRO Live - Where Productivity Takes Flight">
		</a>
	</li>
	{% if op_apps %}
	<div class="subhead">Operations</div>
	{% endif %}
	{% for app in op_apps %}
      <li><a target="_blank" href="../{{ app.ml_apps_id.code }}/{{ quapi_id }}">{{ app.ml_apps_id.name }}</a></li>
    {% endfor %}
	{% if mgmt_apps %}
	<div class="subhead">Management</div>
	{% endif %}
	{% for app in mgmt_apps %}
      <li><a target="_blank" href="../{{ app.ml_apps_id.code }}/{{ quapi_id }}">{{ app.ml_apps_id.name }}</a></li>
    {% endfor %}
	{% if dash_apps %}
	<div class="subhead">Dashboards</div>
	{% endif %}
	{% for app in dash_apps %}
      <li><a target="_blank" href="../{{ app.ml_apps_id.code }}/{{ quapi_id }}">{{ app.ml_apps_id.name }}</a></li>
    {% endfor %}
	{% if setup_apps %}
	<div class="subhead">Setup</div>
	{% endif %}
	{% for app in setup_apps %}
      <li><a target="_blank" href="../{{ app.ml_apps_id.code }}/{{ quapi_id }}">{{ app.ml_apps_id.name }}</a></li>
    {% endfor %}
    <li><a href="/login">Logout</a></li><li><a href="/portal/pass-reset/">Reset Password</a></li>
</ul>
</div>
<!-- Off-canvas Menu - END -->
    <div class="grid-container mro-top-section">
      <div class="grid-x grid-padding-x">
          <div class="mro-top-section-wrapper mro-search">
            <div class="mro-top-section" style="width:100%;">
			  <div class="mro-lightsearch">
			  <form method="POST" id="tools_form" name="tools_form"> 
				  <input type="hidden" name="active_user" id="active_user" value="{{ user_id }}"/>
				  <input type="hidden" name="update_session" id="update_session" value="{{ update_session }}"/>
				  <input type="hidden" name="search_user" id="search_user" value="{{ search_user }}"/> 
				  <input type="hidden" name="clear_form" id="clear_form" value="0"/>
				  <input type="hidden" name="session_id" id="session_id" value="{{session_id}}"/>
				  <input type="hidden" name="show_user" id="show_user" value="{{show_user}}"/>
				  <input type="hidden" name="show_all" id="show_all" value="{{ show_all }}"/>
				  <input type="hidden" name="options_pagesize" id="options_pagesize"/>
				  <input type="hidden" name="options_col" id="options_col"/>
              
			    <div class="medium-12 small-7 cell hide-for-medium">
				</div>
				<div class="medium-12 small-7 cell hide-for-medium">
				</div>
				<div class="cell large-6 medium-6 small-12">
				  <h1>Dock Receiving</h1>			  
				  {% if msg %}<div style="font-weight: bold; color:green; font-size: 12px;">{{ msg }}</div>{% endif %}
				</div>
                <div class="grid-x grid-padding-x align-middle">
				    {% csrf_token %}
                    <div class="cell large-6 medium-6 small-12">
                      <label>Airway Bill</label>
                      <input type="text" id="airway_bill" name="airway_bill" value="{{ airway_bill }}" placeholder="12naNlakngowNKKD"/>				  
                    </div>
                    <div class="cell large-6 medium-6 small-12">
                      <label>Order #</label>
                      <!--input type="text" id="get_manager" name="get_manager" value="{{ get_manager }}" placeholder="ABLAKEY..." /-->
                      {{ form.label }}					  
                    </div>
			        
				    <div class="large-6 small-12 cell">
				      <input class="primary button shadow" type="submit" value="Search" name="search_orders" id="search_orders"/>
				    </div>
				    {% if msg %}
				    <div class="large-4 medium-6 small-12 cell">
					  <input class="primary button shadow" type="submit" value="Print Label" name="print_label" id="print_label"/>
					</div>	
				    {% endif %}
				</div>
		  </form>
		<form method="POST" id="display_form" name="display_form">
			{% csrf_token %}
		{% if show_data %}
		  <!--div class="mro-lightsearch">
			<div class="grid-x grid-padding-x"-->
				<div class="large-6 small-12 cell" style="width:100%;">
				  <div class="grid-x grid-padding-x align-middle">
					<div class="cell large-4 medium-6 small-12">
					  <label>{{ order_type }}</label>	
					  <input type="text" name="wo_type" id="wo_type" value="{{ wo_type }}  {{ wo_number }}" class="read_field" readonly>
					  
					</div>						
					<div class="cell large-4 medium-6 small-12">
					  <label>Customer/Vendor</label>
					  <input type="text" name="company" id="company" value="{{ company }}" class="read_field" readonly>
					</div>
					<div class="cell large-4 medium-6 small-12">
					  <label>Receiver</label>
					  <input type="text" name="rc_number" id="rc_number" value="{{ rc_number }}" class="read_field" readonly>
					</div>
					<div class="cell large-4 medium-6 small-12">
					  <label>Arrival Date</label>
					  <input type="text" name="arrival_date" id="arrival_date" value="{{ arrival_date }}" class="read_field" readonly>
					</div>
					<div class="cell large-4 medium-6 small-12">
					  <label>Priority</label>
					  <input type="text" name="priority" id="priority" value="{{ priority }}" class="read_field" readonly>
					</div>				
				  </div>
				</div>
			  <!--/div>
			  </div-->
	    </form>
		</div>
			</div>
		{% endif %}
		</div>      
	</div>
  </div>
</div>
<script>
$(function() {
    $("#myModal").modal();//if you want you can have a timeout to hide the window after x seconds
});
</script>
    <!-- Modal -->
    {%  if show_modal == '1' %}
      <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Receiver Creation</h4> - Enter an Arrival Date and Location
            </div>
            <div class="modal-body">
                <form method="POST" id="loc_form" name="loc_form">
                  {% csrf_token %}
				  <input type="hidden" name="label_num" id="label_num" value="{{ label_num }}"/>
				  <input type="hidden" name="loc_wo_type" id="loc_wo_type" value="{{ loc_wo_type }}"/>
				  <input type="hidden" name="loc_wo_number" id="loc_wo_number" value="{{ loc_wo_number }}"/>
				  <input type="hidden" name="loc_rc_number" id="loc_rc_number" value="{{ loc_rc_number }}"/>
				  <input type="hidden" name="loc_priority" id="loc_priority" value="{{ loc_priority }}"/>
				  <input type="hidden" name="loc_company" id="loc_company" value="{{ loc_company }}"/>
				  <input type="hidden" name="user_session" id="user_session" value="{{ user_session }}"/>
				  <input type="hidden" name="loc_pagesize" id="loc_pagesize"/>
				  <input type="hidden" name="loc_col" id="loc_col"/>
				  <div class="cell large-6 medium-6 small-12">
                      <label>Location</label>	
				      {{ form.location }}
				  </div>
				  <div class="cell large-6 medium-6 small-12">
                      <label>Arrival Date</label>	
					  {{ form.arrival_date }}
				  </div>
				  <div><br/><br/></div>	
				  <div class="cell large-6 medium-6 small-12">
					  <button class="secondary button shadow" name="loc_submit" style="float:right; margin-top:-50px;" id="loc_submit" type="submit">Process</button>
				  </div>				  
                </form>          
            </div>
          </div>                
       </div>
      </div>
	  {% endif %}
<!-- Modal Part Selection Pop-up -->
<script>
$(function() {
    $("#partSelModal").modal();//if you want you can have a timeout to hide the window after x seconds
});
</script>
    <!-- Modal -->
    {% if show_sysnl == 'show' %}
      <div class="modal fade" id="partSelModal" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <!--button type="button" class="close" data-dismiss="modal">&times;</button-->
              <h4 class="modal-title">Choose Number Log<br/></h4>
            </div>
            <div class="modal-body">
                <form method="POST" id="log_form" name="log_form">
                  {% csrf_token %}
				  <input type="hidden" name="label" id="label" value="{{label}}"/>
				  <input type="hidden" name="airway_bill" id="airway_bill" value="{{airway_bill}}"/>
				  <input type="hidden" name="msg" id="msg" value="{{msg}}"/>
				  <input type="hidden" name="active_mode" id="active_mode" value="1"/>
				  <input type="hidden" name="show_sysnl" id="show_sysnl" value="done"/>
				  <input type="hidden" name="session_id" id="session_id" value="{{ session_id }}"/>
				  {% for nl in sysnl %}
				  <div class="cell large-6 medium-6 small-12">
				      {% if nl.description == 'Regular Receiving' or nl.description == 'Regular Receipt' %}
	   			        <input type="radio" id="{{nl.sysnl_auto_key}}" value="{{nl.sysnl_auto_key}}" name="sysnl" style="font-size:14pt;font-weight:bold;" checked> {{nl.description}}
					  {% else %}
     					<input type="radio" id="{{nl.sysnl_auto_key}}" value="{{nl.sysnl_auto_key}}" name="sysnl" style="font-size:14pt;font-weight:bold;"/> {{nl.description}}
				      {% endif %}
				  </div>
				  {% endfor %}
				  <div><br/><br/><br/><br/></div>	
				  <div class="cell large-6 medium-6 small-12">
				    <button class="secondary button shadow" class="close" data-dismiss="modal" name="mod_cancel" value="1" style="float:right; margin-top:-50px;" id="mod_cancel">Cancel</button>
					<button class="secondary button shadow" name="pn_info_submit" value="1" style="float:left; margin-top:-50px;" id="pn_info_submit" type="submit" onclick="this.disabled=true,this.form.submit();">Update</button>
				  </div>				  
                </form>          
            </div>
          </div>                
       </div>
      </div>
	  {% endif %}
	  
<script>
$(function() {
    $("#errorModal").modal();//if you want you can have a timeout to hide the window after x seconds
});
</script>
    <!-- Modal -->
    {%  if error %}
      <div class="modal fade" id="errorModal" role="dialog" data-backdrop="static">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
		    <form method="POST" id="modal_error_form" name="modal_error_form">
            <div class="modal-header">
              <button type="button" class="close" id="x_button" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Application Message:</h4>
            </div>
            <div class="modal-body">
			    {%  if error %}<input type="hidden" id="error" name="error" value="{{ error }}"/><div style="font-weight: bold; color:red; font-size: 22px;">{{ error }}</div>{%  endif %}
                <button class="secondary button shadow" id="ok_button" style="float:right; margin-top:-20px;" type="button" data-dismiss="modal">OK</button>
                <div><br/><br/></div>			
            </div>
			</form>
          </div>                
       </div>
      </div>
	  {% endif %} 				
<div class="mro-footer-wrapper">
	<div class="grid-container mro-footer">
		<div class="grid-x">
			<div class="cell small-12">
				<img class="mro-footerlogo" src="{% static 'dist/assets/img/mro-live_header.png' %}" alt="Where Productivity Takes Flight" alt="MRO Live - Where Productivity Takes Flight">
			</div>
		</div>

		<div class="grid-x mro-footer-bottom">
			<div class="cell medium-5 small-12 mro-footer-bottom-left">
				<p>Copyright &copy; 2025 MRO Live <span>|</span> <img class="mro-usa" src="{% static 'dist/assets/img/usa.png' %}" alt="Based in USA">Based in USA</p>
			</div>
			<!--div class="cell medium-7 small-12 mro-footer-bottom-right">
				<p><img src="{% static 'dist/assets/img/sectigo.png' %}" /> | Have Questions, Comments, or Concerns? <a href="mailto:Sales@MROLive.com">Get In Touch at Sales@MROLive.com</a></p>
			</div-->
		</div>
	</div>
</div>
    <script src="{% static 'dist/assets/js/app.js' %}"></script>
  </body>
</html>